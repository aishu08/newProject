<section layout="row" class="full-height" ng-class="blur_content" ng-cloak flex>   
    <md-content layout="column" layout-fill>
        <%- include("../includes/toolbar")%>
        <md-content layout="column" class="adappt-watermark-image-dark" flex>
            <div layout="row" layout-wrap>
                <div flex="10" hide-sm hide-xs hide-md layout="row" layout-align="center stretch">
                    <md-card layout='row' layout-align="center center" class="transparent" flex="100">
                        <div flex="100" layout="row" layout-align="center center">
                            <md-button ui-sref="settings" class="md-primary md-raised back_btn">
                                <i class="fa fa fa-chevron-left back_icon"></i>
                                <span class="back_text">Back</span>
                            </md-button>
                        </div>
                    </md-card>
                </div>
                <div flex="30" flex-sm="50" flex-xs="100" flex-md="50" layout="row" layout-align="center center">
                    <md-card layout='row' class="transparent" flex>
                        <div flex="20" layout="row" layout-align="center center">
                            <md-icon class="floorwise-logo" md-whiteframe="3" md-svg-src = '../img/noun_51470_cc.svg' md-svg-class=""></md-icon>
                        </div>
                        <div flex="80"  class="card-container">
                            <md-select ng-model="selectedBuilding"  placeholder="Building Selection"  md-container-class="container_1" class="darktheme" ng-change="setfloor(selectedBuilding)">
                                <md-option ng-repeat ="building in buildings" ng-value="{{building}}">{{building.bldgName}}</md-option>
                            </md-select>
                        </div>
                    </md-card>
                </div>
                <div flex="30" flex-sm="50" flex-xs="100" flex-md="50" layout="row" layout-align="center center">
                    <md-card layout='row' class="transparent" flex>
                        <div flex="20" layout="row" layout-align="center center">
                            <md-icon class="floorwise-logo" md-whiteframe="3" md-svg-src = '../img/noun_51470_cc.svg' md-svg-class=""></md-icon>
                        </div>
                        <div flex="80"  class="card-container">
                            <md-select ng-model="selectedFloor"  placeholder="Floor Selection"  md-container-class="container_1" class="darktheme" ng-change="setBus(selectedFloor)">
                                <md-option ng-repeat ="floor in floors" ng-value="{{floor}}">{{floor.name}}</md-option>
                            </md-select>
                        </div>
                    </md-card>
                </div>
                <div flex="30" flex-sm="50" flex-xs="100" flex-md="50" layout="row" layout-align="center center">
                    <md-card layout='row' class="transparent" flex>
                        <div flex="20" layout="row" layout-align="center center">
                        <md-icon class="floorwise-logo material-icons" md-whiteframe="3">search</md-icon>
                        </div>
                        <div flex="80" layout="row" class="card-container">
                            <md-input-container class="inputcontainers" flex>
                                <input type="text" placeholder="Search" ng-model="searchvalue" class="text-white"/>
                            </md-input-container> 
                        </div>
                    </md-card>
                </div>
            </div>

            <md-card layout="column" class="dark-theme" flex>
                <md-content class="tab-content-container ng-cloak" ng-cloak ng-class="{blurrred: loadingFloorData}">
                    <div class="floor-layout-dark" style="background:url('/img/{{selectedFloor.layout}}') no-repeat center center; background-size: contain; width: {{selectedFloor.width}}px; height: {{selectedFloor.height}}px;">
                        <div class="util-block" draggable model="seat"  ng-repeat="seat in seats | filter:searchvalue" ng-style="{top:seat.posY+'px',left:seat.posX+'px', width:seat.width+'px', height:seat.height+'px'}" ng-dblclick="sensormgt(seat)">
                        <md-tooltip md-direction="top" class="md-tooltip-top">{{seat.name}}</md-tooltip>
                        </div>
                    </div>  
                <md-content>
            </md-card>
        </md-content>
    </md-content>
    <md-button class="md-icon-button md-fab md-primary print-button" ng-click="savePos()">
        <md-icon class="print_icon"><i class="fa fa-save"></i></md-icon>
        <md-tooltip md-direction="top" class="md-tooltip-top">Save</md-tooltip>
    </md-button>
</section>